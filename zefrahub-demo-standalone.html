<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZefraHub Property Assistant Demo</title>
  <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    #root {
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    function ChatBox() {
      const [messages, setMessages] = useState([]);
      const [input, setInput] = useState("");
      const [isProcessing, setIsProcessing] = useState(false);
      const [processingSteps, setProcessingSteps] = useState([]);
      const [demoComplete, setDemoComplete] = useState(false);
      const [showCalendar, setShowCalendar] = useState(false);
      const [selectedDate, setSelectedDate] = useState(null);
      const [selectedTime, setSelectedTime] = useState(null);
      const [showContactForm, setShowContactForm] = useState(false);
      const [contactInfo, setContactInfo] = useState({
        name: '',
        email: '',
        phone: ''
      });
      const [highlightScheduleButton, setHighlightScheduleButton] = useState(false);
      const [highlightDateButton, setHighlightDateButton] = useState(null);
      const [highlightTimeButton, setHighlightTimeButton] = useState(null);
      const [highlightConfirmButton, setHighlightConfirmButton] = useState(false);
      const [highlightSubmitButton, setHighlightSubmitButton] = useState(false);
      const messagesEndRef = useRef(null);

      const demoConversation = [
        {
          id: 1,
          text: "Hi, I'm interested in Unit 204 at Maple Apartments. Is it still available? What's the rent, move-in date, and does it have in-unit laundry?",
          sender: "user",
          timestamp: new Date("2024-09-05T10:12:00"),
          userName: "Alex"
        },
        {
          id: 2,
          text: "Yes â€” Unit 204 is available âœ…\n\nâ€¢ Rent: $2,100/month\nâ€¢ Available: October 1\nâ€¢ Laundry: In-unit laundry\n\nWould you like to schedule a tour or ask another question?",
          sender: "bot",
          timestamp: new Date("2024-09-05T10:12:16"),
          hasButtons: true
        },
        {
          id: 3,
          text: "That sounds perfect! What amenities are included?",
          sender: "user",
          timestamp: new Date("2024-09-05T10:13:30"),
          userName: "Alex"
        },
        {
          id: 4,
          text: "Great question! Here are the amenities for Unit 204:\n\nâ€¢ Central heating & air conditioning\nâ€¢ Hardwood floors throughout\nâ€¢ Updated kitchen with stainless steel appliances\nâ€¢ Large balcony with city views\nâ€¢ Building gym and rooftop terrace\nâ€¢ Secure parking space included\nâ€¢ Pet-friendly (dogs and cats welcome)\n\nWould you like to schedule a viewing?",
          sender: "bot",
          timestamp: new Date("2024-09-05T10:13:45"),
          hasButtons: true
        }
      ];

      const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
      };

      useEffect(() => {
        scrollToBottom();
      }, [messages, processingSteps]);

      useEffect(() => {
        const timer = setTimeout(() => {
          startDemo();
        }, 1000);
        return () => clearTimeout(timer);
      }, []);

      const simulateProcessing = async () => {
        const steps = [
          { id: 1, title: "Reading Message", subtitle: "Understanding your question...", icon: "search" },
          { id: 2, title: "Searching Database", subtitle: "Finding relevant information...", icon: "database" },
          { id: 3, title: "Preparing Response", subtitle: "Crafting your answer...", icon: "compose" }
        ];

        for (let i = 0; i < steps.length; i++) {
          setProcessingSteps(steps.slice(0, i + 1).map((step, idx) => ({
            ...step,
            status: idx === i ? 'active' : 'completed'
          })));
          await new Promise(resolve => setTimeout(resolve, 1200));
        }

        setProcessingSteps([]);
      };

      const startDemo = async () => {
        setMessages([]);
        setDemoComplete(false);
        setHighlightScheduleButton(false);
        setHighlightDateButton(null);
        setHighlightTimeButton(null);
        setHighlightConfirmButton(false);
        setHighlightSubmitButton(false);
        
        await new Promise(resolve => setTimeout(resolve, 800));
        setMessages([demoConversation[0]]);
        
        await new Promise(resolve => setTimeout(resolve, 1000));
        setIsProcessing(true);
        await simulateProcessing();
        setMessages(prev => [...prev, demoConversation[1]]);
        setIsProcessing(false);
        
        await new Promise(resolve => setTimeout(resolve, 2500));
        setMessages(prev => [...prev, demoConversation[2]]);
        
        await new Promise(resolve => setTimeout(resolve, 1000));
        setIsProcessing(true);
        await simulateProcessing();
        setMessages(prev => [...prev, demoConversation[3]]);
        setIsProcessing(false);
        
        await new Promise(resolve => setTimeout(resolve, 2000));
        setHighlightScheduleButton(true);
        
        await new Promise(resolve => setTimeout(resolve, 1500));
        setHighlightScheduleButton(false);
        
        const scheduleTourMessage = {
          id: 5,
          text: "This sounds perfect! I'd like to schedule a tour.",
          sender: "user",
          timestamp: new Date(),
          userName: "Alex"
        };
        setMessages(prev => [...prev, scheduleTourMessage]);
        
        await new Promise(resolve => setTimeout(resolve, 1000));
        setShowCalendar(true);
        
        await new Promise(resolve => setTimeout(resolve, 1500));
        setHighlightDateButton("Wednesday, Oct 9");
        await new Promise(resolve => setTimeout(resolve, 800));
        setSelectedDate("Wednesday, Oct 9");
        setHighlightDateButton(null);
        
        await new Promise(resolve => setTimeout(resolve, 1200));
        setHighlightTimeButton("2:00 PM");
        await new Promise(resolve => setTimeout(resolve, 800));
        setSelectedTime("2:00 PM");
        setHighlightTimeButton(null);
        
        await new Promise(resolve => setTimeout(resolve, 1200));
        setHighlightConfirmButton(true);
        await new Promise(resolve => setTimeout(resolve, 1000));
        setHighlightConfirmButton(false);
        
        setShowCalendar(false);
        
        const askContactMessage = {
          id: 6,
          text: `Great choice! To confirm your tour on Wednesday, Oct 9 at 2:00 PM, I'll need some contact information.\n\nPlease provide:\nâ€¢ Your full name\nâ€¢ Email address\nâ€¢ Phone number`,
          sender: "bot",
          timestamp: new Date(),
          hasButtons: false,
          hasContactForm: true
        };
        
        setMessages(prev => [...prev, askContactMessage]);
        
        await new Promise(resolve => setTimeout(resolve, 800));
        setShowContactForm(true);
        
        await new Promise(resolve => setTimeout(resolve, 2000));
        setContactInfo({
          name: 'Alex Johnson',
          email: 'alex.johnson@email.com',
          phone: '(555) 123-4567'
        });
        
        await new Promise(resolve => setTimeout(resolve, 1500));
        setHighlightSubmitButton(true);
        await new Promise(resolve => setTimeout(resolve, 1000));
        setHighlightSubmitButton(false);
        
        const contactMessage = {
          id: 7,
          text: `Here's my contact information:\n\nName: Alex Johnson\nEmail: alex.johnson@email.com\nPhone: (555) 123-4567`,
          sender: "user",
          timestamp: new Date(),
          userName: "Alex"
        };
        
        setMessages(prev => [...prev, contactMessage]);
        setShowContactForm(false);
        
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        const confirmationMessage = {
          id: 8,
          text: `âœ… Tour Confirmed!\n\nThank you Alex Johnson! Your tour has been scheduled.\n\nðŸ“… Tour Details:\nâ€¢ Date: Wednesday, Oct 9\nâ€¢ Time: 2:00 PM\nâ€¢ Location: Maple Apartments, Unit 204\n\nðŸ“§ Confirmation sent to: alex.johnson@email.com\nðŸ“± We'll text you at: (555) 123-4567\n\nYou'll receive a confirmation email with directions and parking information. See you soon!`,
          sender: "bot",
          timestamp: new Date(),
          hasButtons: false,
          bookingData: {
            name: 'Alex Johnson',
            email: 'alex.johnson@email.com',
            phone: '(555) 123-4567',
            date: 'Wednesday, Oct 9',
            time: '2:00 PM'
          }
        };
        
        setMessages(prev => [...prev, confirmationMessage]);
        setContactInfo({ name: '', email: '', phone: '' });
        
        await new Promise(resolve => setTimeout(resolve, 500));
        setDemoComplete(true);
      };

      const handleScheduleTour = () => {
        setShowCalendar(true);
        setSelectedDate(null);
        setSelectedTime(null);
      };

      const handleDateSelect = (date) => {
        setSelectedDate(date);
        setSelectedTime(null);
      };

      const handleTimeSelect = (time) => {
        setSelectedTime(time);
      };

      const handleConfirmBooking = () => {
        const bookingMessage = {
          id: messages.length + 1,
          text: `I'd like to schedule a tour for ${selectedDate} at ${selectedTime}.`,
          sender: "user",
          timestamp: new Date(),
          userName: messages[0]?.userName || "User"
        };

        setMessages(prev => [...prev, bookingMessage]);
        setShowCalendar(false);
        
        setTimeout(() => {
          const askContactMessage = {
            id: messages.length + 2,
            text: `Great choice! To confirm your tour on ${selectedDate} at ${selectedTime}, I'll need some contact information.\n\nPlease provide:\nâ€¢ Your full name\nâ€¢ Email address\nâ€¢ Phone number`,
            sender: "bot",
            timestamp: new Date(),
            hasButtons: false,
            hasContactForm: true
          };
          
          setMessages(prev => [...prev, askContactMessage]);
          setShowContactForm(true);
        }, 800);
      };

      const handleContactSubmit = () => {
        if (!contactInfo.name || !contactInfo.email || !contactInfo.phone) {
          alert('Please fill in all fields');
          return;
        }

        const contactMessage = {
          id: messages.length + 1,
          text: `Here's my contact information:\n\nName: ${contactInfo.name}\nEmail: ${contactInfo.email}\nPhone: ${contactInfo.phone}`,
          sender: "user",
          timestamp: new Date(),
          userName: messages[0]?.userName || "User"
        };

        setMessages(prev => [...prev, contactMessage]);
        setShowContactForm(false);
        
        setTimeout(() => {
          const confirmationMessage = {
            id: messages.length + 2,
            text: `âœ… Tour Confirmed!\n\nThank you ${contactInfo.name}! Your tour has been scheduled.\n\nðŸ“… Tour Details:\nâ€¢ Date: ${selectedDate}\nâ€¢ Time: ${selectedTime}\nâ€¢ Location: Maple Apartments, Unit 204\n\nðŸ“§ Confirmation sent to: ${contactInfo.email}\nðŸ“± We'll text you at: ${contactInfo.phone}\n\nYou'll receive a confirmation email with directions and parking information. See you soon!`,
            sender: "bot",
            timestamp: new Date(),
            hasButtons: false,
            bookingData: {
              name: contactInfo.name,
              email: contactInfo.email,
              phone: contactInfo.phone,
              date: selectedDate,
              time: selectedTime
            }
          };
          
          setMessages(prev => [...prev, confirmationMessage]);
          setContactInfo({ name: '', email: '', phone: '' });
        }, 800);
      };

      const handleSend = async () => {
        if (input.trim() === "") return;

        const userMessage = {
          id: messages.length + 1,
          text: input,
          sender: "user",
          timestamp: new Date(),
          userName: "You"
        };

        setMessages([...messages, userMessage]);
        setInput("");
        setIsProcessing(true);
        
        await new Promise(resolve => setTimeout(resolve, 500));
        await simulateProcessing();
        
        const botMessage = {
          id: messages.length + 2,
          text: "Thank you for your interest! I'd be happy to help you with more information. This is a demo showing ZefraHub's AI-powered responses. In production, I would provide detailed, accurate answers from your property database.",
          sender: "bot",
          timestamp: new Date(),
          hasButtons: true
        };
        
        setMessages(prev => [...prev, botMessage]);
        setIsProcessing(false);
      };

      const handleKeyPress = (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSend();
        }
      };

      const formatTime = (date) => {
        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) + ', ' + 
               date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
      };

      const formatMessageText = (text) => {
        const lines = text.split('\n');
        return lines.map((line, index) => {
          if (line.includes('âœ…')) {
            return React.createElement('div', { key: index, className: "font-semibold mb-2" }, line);
          } else if (line.startsWith('â€¢')) {
            return React.createElement('div', { key: index, className: "ml-2" }, line);
          } else if (line.trim() === '') {
            return React.createElement('div', { key: index, className: "h-2" });
          } else {
            return React.createElement('div', { key: index }, line);
          }
        });
      };

      const availableDates = [
        "Monday, Oct 7",
        "Tuesday, Oct 8", 
        "Wednesday, Oct 9",
        "Thursday, Oct 10",
        "Friday, Oct 11",
        "Saturday, Oct 12"
      ];

      const availableTimes = [
        "9:00 AM",
        "10:30 AM",
        "12:00 PM",
        "2:00 PM",
        "4:00 PM",
        "5:30 PM"
      ];

      return React.createElement('div', { className: "flex items-center justify-center min-h-screen bg-gray-100 p-4" },
        React.createElement('div', { className: "w-full max-w-4xl bg-white rounded-lg shadow-lg overflow-hidden flex flex-col relative", style: { height: '700px' } },
          
          React.createElement('div', { className: "bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4 flex items-center justify-between" },
            React.createElement('div', { className: "flex items-center gap-3" },
              React.createElement('div', null,
                React.createElement('h2', { className: "font-semibold text-lg" }, "ZefraHub Your Property Assistant"),
                React.createElement('p', { className: "text-xs text-indigo-100" }, "Live Demo")
              )
            ),
            React.createElement('button', {
              onClick: startDemo,
              className: "flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors text-sm"
            },
              React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                React.createElement('polyline', { points: "1 4 1 10 7 10" }),
                React.createElement('path', { d: "M3.51 15a9 9 0 1 0 2.13-9.36L1 10" })
              ),
              "Restart Demo"
            )
          ),

          React.createElement('div', { className: "flex-1 overflow-y-auto p-6 space-y-6" },
            messages.length === 0 && React.createElement('div', { className: "flex items-center justify-center h-full text-gray-400" },
              React.createElement('div', { className: "text-center" },
                React.createElement('div', { className: "text-lg font-semibold mb-2" }, "Starting demo..."),
                React.createElement('div', { className: "text-sm" }, "Watch ZefraHub handle customer inquiries")
              )
            ),

            messages.map((message) => {
              if (message.sender === 'user') {
                return React.createElement('div', { key: message.id, className: "flex justify-end items-start gap-3" },
                  React.createElement('div', { className: "flex flex-col items-end max-w-[70%]" },
                    React.createElement('div', { className: "text-xs text-gray-500 mb-1" }, formatTime(message.timestamp)),
                    React.createElement('div', { className: "bg-white border border-gray-200 rounded-2xl rounded-tr-md px-5 py-3 shadow-sm" },
                      React.createElement('p', { className: "text-sm text-gray-800 leading-relaxed" }, message.text)
                    )
                  ),
                  React.createElement('div', { className: "flex flex-col items-center gap-1 flex-shrink-0" },
                    React.createElement('div', { className: "w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-white font-semibold text-sm" },
                      message.userName.charAt(0)
                    ),
                    React.createElement('span', { className: "text-xs text-gray-600" }, message.userName)
                  )
                );
              } else {
                return React.createElement('div', { key: message.id, className: "flex items-start gap-3" },
                  React.createElement('div', { className: "flex flex-col items-center gap-1 flex-shrink-0" },
                    React.createElement('div', { className: "w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-lg" }, "Z"),
                    React.createElement('span', { className: "text-xs text-gray-600" }, "ZefraHub")
                  ),
                  React.createElement('div', { className: "flex flex-col max-w-[70%]" },
                    React.createElement('div', { className: "text-xs text-gray-500 mb-1" }, formatTime(message.timestamp)),
                    React.createElement('div', { className: "bg-indigo-50 border border-indigo-100 rounded-2xl rounded-tl-md px-5 py-3 shadow-sm" },
                      React.createElement('div', { className: "text-sm text-gray-800 leading-relaxed" },
                        formatMessageText(message.text)
                      )
                    ),
                    message.hasButtons && React.createElement('div', { className: "flex gap-2 mt-3" },
                      React.createElement('button', {
                        onClick: handleScheduleTour,
                        className: `flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-all text-sm font-medium ${highlightScheduleButton ? 'ring-4 ring-indigo-400 scale-105 shadow-lg' : ''}`
                      },
                        React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                          React.createElement('rect', { x: "3", y: "4", width: "18", height: "18", rx: "2", ry: "2" }),
                          React.createElement('line', { x1: "16", y1: "2", x2: "16", y2: "6" }),
                          React.createElement('line', { x1: "8", y1: "2", x2: "8", y2: "6" }),
                          React.createElement('line', { x1: "3", y1: "10", x2: "21", y2: "10" })
                        ),
                        "Schedule Tour"
                      ),
                      React.createElement('button', { className: "flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium" },
                        React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                          React.createElement('path', { d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" })
                        ),
                        "Ask Another Question"
                      )
                    ),
                    message.bookingData && React.createElement('div', { className: "mt-4 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm" },
                      React.createElement('div', { className: "bg-gray-50 px-4 py-2 border-b border-gray-200" },
                        React.createElement('div', { className: "font-semibold text-sm text-gray-700" }, "Booking Information")
                      ),
                      React.createElement('table', { className: "w-full text-sm" },
                        React.createElement('tbody', null,
                          React.createElement('tr', { className: "border-b border-gray-100" },
                            React.createElement('td', { className: "px-4 py-2.5 font-medium text-gray-600 bg-gray-50" }, "Name"),
                            React.createElement('td', { className: "px-4 py-2.5 text-gray-800" }, message.bookingData.name)
                          ),
                          React.createElement('tr', { className: "border-b border-gray-100" },
                            React.createElement('td', { className: "px-4 py-2.5 font-medium text-gray-600 bg-gray-50" }, "Email"),
                            React.createElement('td', { className: "px-4 py-2.5 text-gray-800" }, message.bookingData.email)
                          ),
                          React.createElement('tr', { className: "border-b border-gray-100" },
                            React.createElement('td', { className: "px-4 py-2.5 font-medium text-gray-600 bg-gray-50" }, "Phone"),
                            React.createElement('td', { className: "px-4 py-2.5 text-gray-800" }, message.bookingData.phone)
                          ),
                          React.createElement('tr', { className: "border-b border-gray-100" },
                            React.createElement('td', { className: "px-4 py-2.5 font-medium text-gray-600 bg-gray-50" }, "Date"),
                            React.createElement('td', { className: "px-4 py-2.5 text-gray-800" }, message.bookingData.date)
                          ),
                          React.createElement('tr', null,
                            React.createElement('td', { className: "px-4 py-2.5 font-medium text-gray-600 bg-gray-50" }, "Time"),
                            React.createElement('td', { className: "px-4 py-2.5 text-gray-800" }, message.bookingData.time)
                          )
                        )
                      )
                    )
                  )
                );
              }
            }),

            isProcessing && React.createElement('div', { className: "flex items-start gap-3" },
              React.createElement('div', { className: "flex flex-col items-center gap-1 flex-shrink-0" },
                React.createElement('div', { className: "w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-lg" }, "Z"),
                React.createElement('span', { className: "text-xs text-gray-600" }, "ZefraHub")
              ),
              React.createElement('div', { className: "flex-1" },
                React.createElement('div', { className: "space-y-2" },
                  processingSteps.map((step) =>
                    React.createElement('div', {
                      key: step.id,
                      className: `rounded-lg p-4 border transition-all ${step.status === 'active' ? 'bg-blue-50 border-blue-200' : 'bg-white border-gray-200'}`
                    },
                      React.createElement('div', { className: "flex items-center gap-3" },
                        React.createElement('div', {
                          className: `w-9 h-9 rounded-full flex items-center justify-center ${step.status === 'active' ? 'bg-blue-500' : 'bg-gray-300'}`
                        },
                          step.status === 'active' 
                            ? React.createElement('div', { className: "w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin" })
                            : React.createElement('svg', { width: "18", height: "18", viewBox: "0 0 24 24", fill: "none", stroke: "white", strokeWidth: "2" },
                                React.createElement('polyline', { points: "20 6 9 17 4 12" })
                              )
                        ),
                        React.createElement('div', { className: "flex-1" },
                          React.createElement('div', { className: `font-semibold text-sm ${step.status === 'active' ? 'text-blue-700' : 'text-gray-700'}` }, step.title),
                          React.createElement('div', { className: "text-xs text-gray-500 mt-0.5" }, step.subtitle)
                        )
                      )
                    )
                  )
                )
              )
            ),

            React.createElement('div', { ref: messagesEndRef })
          ),

          showContactForm && React.createElement('div', { className: "absolute inset-0 bg-black/50 flex items-center justify-center p-4 z-50" },
            React.createElement('div', { className: "bg-white rounded-2xl shadow-2xl max-w-md w-full" },
              React.createElement('div', { className: "bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl" },
                React.createElement('h3', { className: "text-xl font-bold" }, "Contact Information"),
                React.createElement('p', { className: "text-sm text-indigo-100 mt-1" }, "Please fill in your details to confirm the booking")
              ),
              React.createElement('div', { className: "p-6 space-y-4" },
                React.createElement('div', null,
                  React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Full Name *"),
                  React.createElement('input', {
                    type: "text",
                    value: contactInfo.name,
                    onChange: (e) => setContactInfo({...contactInfo, name: e.target.value}),
                    placeholder: "John Doe",
                    className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                  })
                ),
                React.createElement('div', null,
                  React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Email Address *"),
                  React.createElement('input', {
                    type: "email",
                    value: contactInfo.email,
                    onChange: (e) => setContactInfo({...contactInfo, email: e.target.value}),
                    placeholder: "john@example.com",
                    className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                  })
                ),
                React.createElement('div', null,
                  React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Phone Number *"),
                  React.createElement('input', {
                    type: "tel",
                    value: contactInfo.phone,
                    onChange: (e) => setContactInfo({...contactInfo, phone: e.target.value}),
                    placeholder: "(555) 123-4567",
                    className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                  })
                ),
                React.createElement('div', { className: "bg-indigo-50 border border-indigo-200 rounded-lg p-4 mt-4" },
                  React.createElement('div', { className: "text-sm font-semibold text-indigo-900" }, "Selected Time Slot"),
                  React.createElement('div', { className: "text-sm text-indigo-700 mt-1" }, `${selectedDate} at ${selectedTime}`)
                )
              ),
              React.createElement('div', { className: "bg-gray-50 border-t border-gray-200 p-6 rounded-b-2xl flex gap-3" },
                React.createElement('button', {
                  onClick: () => setShowContactForm(false),
                  className: "flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium"
                }, "Cancel"),
                React.createElement('button', {
                  onClick: handleContactSubmit,
                  className: `flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all font-medium ${highlightSubmitButton ? 'ring-4 ring-indigo-400 scale-105 shadow-lg' : ''}`
                }, "Submit")
              )
            )
          ),

          showCalendar && React.createElement('div', { className: "absolute inset-0 bg-black/50 flex items-center justify-center p-4 z-50" },
            React.createElement('div', { className: "bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto" },
              React.createElement('div', { className: "sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl z-10" },
                React.createElement('div', { className: "flex items-center justify-between" },
                  React.createElement('div', null,
                    React.createElement('h3', { className: "text-xl font-bold text-gray-900" }, "Schedule Your Tour"),
                    React.createElement('p', { className: "text-sm text-gray-500 mt-1" }, "Select a date and time that works for you")
                  ),
                  React.createElement('button', {
                    onClick: () => setShowCalendar(false),
                    className: "text-gray-400 hover:text-gray-600 text-2xl leading-none"
                  }, "Ã—")
                )
              ),
              React.createElement('div', { className: "p-6 space-y-6" },
                React.createElement('div', null,
                  React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-3" }, "Select Date"),
                  React.createElement('div', { className: "grid grid-cols-2 gap-3" },
                    availableDates.map((date) =>
                      React.createElement('button', {
                        key: date,
                        onClick: () => handleDateSelect(date),
                        className: `p-4 rounded-lg border-2 transition-all text-left ${
                          selectedDate === date
                            ? 'border-indigo-600 bg-indigo-50 text-indigo-900'
                            : highlightDateButton === date
                            ? 'border-indigo-400 bg-indigo-50 ring-4 ring-indigo-300 scale-105'
                            : 'border-gray-200 hover:border-gray-300 text-gray-700'
                        }`
                      },
                        React.createElement('div', { className: "font-semibold" }, date.split(',')[0]),
                        React.createElement('div', { className: "text-sm opacity-75" }, date.split(',')[1])
                      )
                    )
                  )
                ),
                selectedDate && React.createElement('div', null,
                  React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-3" }, "Select Time"),
                  React.createElement('div', { className: "grid grid-cols-3 gap-3" },
                    availableTimes.map((time) =>
                      React.createElement('button', {
                        key: time,
                        onClick: () => handleTimeSelect(time),
                        className: `p-3 rounded-lg border-2 transition-all font-medium ${
                          selectedTime === time
                            ? 'border-indigo-600 bg-indigo-50 text-indigo-900'
                            : highlightTimeButton === time
                            ? 'border-indigo-400 bg-indigo-50 ring-4 ring-indigo-300 scale-105'
                            : 'border-gray-200 hover:border-gray-300 text-gray-700'
                        }`
                      }, time)
                    )
                  )
                ),
                selectedDate && selectedTime && React.createElement('div', { className: "bg-indigo-50 border border-indigo-200 rounded-lg p-4" },
                  React.createElement('div', { className: "flex items-start gap-3" },
                    React.createElement('svg', { width: "20", height: "20", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", className: "text-indigo-600 flex-shrink-0 mt-0.5" },
                      React.createElement('rect', { x: "3", y: "4", width: "18", height: "18", rx: "2", ry: "2" }),
                      React.createElement('line', { x1: "16", y1: "2", x2: "16", y2: "6" }),
                      React.createElement('line', { x1: "8", y1: "2", x2: "8", y2: "6" }),
                      React.createElement('line', { x1: "3", y1: "10", x2: "21", y2: "10" })
                    ),
                    React.createElement('div', null,
                      React.createElement('div', { className: "font-semibold text-indigo-900" }, "Tour Details"),
                      React.createElement('div', { className: "text-sm text-indigo-700 mt-1" }, `${selectedDate} at ${selectedTime}`),
                      React.createElement('div', { className: "text-sm text-indigo-600 mt-1" }, "Maple Apartments, Unit 204")
                    )
                  )
                )
              ),
              React.createElement('div', { className: "sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6 rounded-b-2xl z-10" },
                React.createElement('div', { className: "flex gap-3" },
                  React.createElement('button', {
                    onClick: () => setShowCalendar(false),
                    className: "flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium"
                  }, "Cancel"),
                  React.createElement('button', {
                    onClick: handleConfirmBooking,
                    disabled: !selectedDate || !selectedTime,
                    className: `flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed ${highlightConfirmButton ? 'ring-4 ring-indigo-400 scale-105 shadow-lg' : ''}`
                  }, "Confirm Booking")
                )
              )
            )
          ),

          React.createElement('div', { className: "p-4 bg-white border-t border-gray-200" },
            React.createElement('div', { className: "flex gap-2" },
              React.createElement('input', {
                type: "text",
                value: input,
                onChange: (e) => setInput(e.target.value),
                onKeyPress: handleKeyPress,
                placeholder: "Try asking your own question...",
                className: "flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",
                disabled: isProcessing
              }),
              React.createElement('button', {
                onClick: handleSend,
                className: "bg-indigo-600 text-white px-5 py-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",
                disabled: input.trim() === "" || isProcessing
              },
                React.createElement('svg', { width: "18", height: "18", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                  React.createElement('line', { x1: "22", y1: "2", x2: "11", y2: "13" }),
                  React.createElement('polygon', { points: "22 2 15 22 11 13 2 9 22 2" })
                )
              )
            )
          )
        )
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(ChatBox));
  </script>
</body>
</html>